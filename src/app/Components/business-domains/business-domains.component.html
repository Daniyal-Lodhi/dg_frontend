<div class="flex sm:pr-2">
    <!-- trigger display id is to get the id number of the meta Data value that has to be displayed -->
    <app-side-nav (triggerDisplayId)="displayData($event)" [treeData]="businessDomainData"
        [forComponent]="'businessDomain'"></app-side-nav>

    <div class="sm:w-[95%] sm:ml-2 mt-8 sm:mt-0 w-full  " *ngIf="Data">
        <div class="flex-col mt-5 h-auto" *ngIf="!Modal">

            <!-- heading for business domains and entites -->
            <div *ngIf="parentNode" class="flex justify-between">
                <div class="text-3xl text-gray-700 font-bold ml-2 sm:ml-1">Business Domain </div>
 
                <!-- button for adding business domain entity -->
                <button (click)="toggleModal()" class="bg-gray-800 hover:bg-gray-950 text-white rounded-md mr-2 px-2 py-1 ">
                    + Add Entity
                </button>
            </div>
            <div class="text-3xl text-gray-700 font-bold ml-2 sm:ml-1" *ngIf="!parentNode">Business Domain Entity </div>
            <div
                class="mt-2 w-auto  sm:mt-5 mx-2 bg-gray-white text-lg shadow-lg border-t  rounded-md p-2 sm:mx-0 text-gray-700">
                <!-- <table class="w-full border-separate border-spacing-y-3" *ngFor="let key of Object.keys(Data)"> -->
                <table class="w-full border-separate border-spacing-y-3">

                    <!-- <tr class="" *ngIf="key !== 'businessDomainEntitiesDtoList' ">
                        <td class="label w-[30%] w-[45%] sm:w-[30%]">{{ key }}:</td>
                        <td>{{ Data[key]? Data[key]: "null" }}</td>
                    </tr> -->

                    <tr>
                        <td class="label w-[30%]">Name:</td>
                        <td>{{ Data.name }}</td>
                    </tr>
                    <tr>
                        <td class="label w-[30%]">Created by:</td>
                        <td>{{ Data.createdBy || "Anonymous" }}</td>
                    </tr>
                    <tr>
                        <td class="label w-[30%]">Created on:</td>
                        <td>{{ Date(Data.createdOn) }}</td>
                    </tr>
                    <tr>
                        <td class="label w-[30%]">Last updated:</td>
                        <td>{{ Date(Data.updatedOn) }}</td>
                    </tr>
                    <tr>
                        <td class="label w-[30%]">Status:</td>
                        <td>{{ Data.flag }}</td>
                    </tr>
                    <tr *ngIf="!parentNode">
                        <td class="label w-[30%]">Business domain:</td>
                        <td>{{ Data.businessDomain ? Data.businessDomain : "not available" }}</td>
                    </tr>
                    <tr>
                        <td class="label w-[30%] align-top  ">Description:</td>
                        <td>{{ Data.descridption ? Data.description : 'Lorem ipsum dolor sit, amet ratione quibusdam' }} </td>
                    </tr>
                </table>
            </div>
        </div>
        
        <!-- Modal for add business domain enitity  -->
        <div class=" w-[90%] sm:w-[100%] mx-auto ml-3 sm:mx-0 " *ngIf="Modal">
            <h1 class="text-3xl mt-2 mb-5 font-bold">Business Domain | Add</h1>
            <form class="w-[100%]" (ngSubmit)="handleSubmit()" >
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class=" w-full  px-3 mb-4 md:mb-0">
                        <label class="block text-lg uppercase tracking-wide text-gray-700  font-bold mb-2"
                            for="grid-first-name">
                            Name
                        </label>
                        <input [(ngModel)]="entityName" name="entityName"
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
                            id="grid-first-name" type="text" placeholder="Entity name here.">
                        <!-- <p class="text-red-500 text-xs italic">Please fill out this field.</p> -->
                    </div>
                   
                </div>
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full px-3">
                        <label class="block text-lg uppercase tracking-wide text-gray-700  font-bold mb-2"
                            for="grid-description">
                            Description
                        </label>
                        <textarea [(ngModel)]="entityDescription" name="entityDescription"
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                            id="grid-description" type="text" placeholder="Description here."></textarea>
                        <!-- <p class="text-gray-600 text-xs italic">Make it as long and as crazy as you'd like</p> -->
                    </div>
                </div>

                <div class="flex justify-between">
                    <button class="bg-black px-3 py-1 text-white rounded-md" (click)="handleSubmit()">Add</button>
                    <button class="bg-black px-3 py-1 text-white rounded-md" (click)="toggleModal()">Go back</button>
                </div>
                
                 
            </form> 
        </div>
    </div>
</div>